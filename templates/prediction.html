<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no" />
		<title>Book predictions</title>
		<link
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
			rel="stylesheet" />
		<link rel="stylesheet" href="/static/profile/main.css" />
		<link rel="stylesheet" href="/static/main/main.css" />
		<link rel="stylesheet" href="/static/main/app.css" />
	</head>
	<body data-theme'>
		<div class="choice-screen">
			<h2>Upload Book Images</h2>
			<button id="singleBookUploadBtn" class="btn btn-primary">
				Upload Single Book
			</button>
			<button id="multipleBooksUploadBtn" class="btn btn-primary">
				Upload Multiple Books
			</button>
		</div>

		<div class="main-content">
			<div class="container main-container">
				<!-- <h2 class="text-center">Book Predict</h2> -->
				<form id="uploadForm" enctype="multipart/form-data">
					<div class="form-group">
						<input
							type="file"
							name="file"
							class="form-control-file"
							id="fileInput"
							accept="image/*;capture=camera" />
					</div>
					<button
						type="button"
						class="btn btn-primary btn-block"
						id="btnUpload">
						Upload
					</button>
				</form>
				<div class="spinner-border" role="status" id="loadingSpinner">
					<span class="sr-only">Loading...</span>
				</div>
				<div id="imagePreview">
					<b id="uploadText"
						>Click here to <br />
						upload image</b
					>
					<img
						id="prevImg"
						src="#"
						alt="Image Preview"
						class="image-preview"
						style="display: none" />
				</div>

				<div id="responseArea" class="response-area mt-3"></div>
			</div>
			<div class="container books-found-container c-hidden">
				<h1 class="text-center mb-4">Books found in the image</h1>
				<div id="ratedBooks" class="row">
					<!-- Book items will be inserted here by JavaScript -->
				</div>
			</div>
		</div>
		<div class="bottom-appbar">
			<div class="tabs">
				<div class="tab is-active tab--left" onclick="redirect('search-books')">
					<div class="tabfab">
						<img src="/static/main/search.svg" alt="Search" />
						<span>Search</span>
					</div>
				</div>
				<div class="tab tab--fab main-tab" onclick="redirect('main')">
					<div class="top">
						<div class="fab">
							<img src="/static/main/camera.svg" alt="Add" />
						</div>
					</div>
				</div>
				<div class="tab tab--right" onclick="togglePopup()">
					<img src="/static/main/profile.svg" alt="Profile" />
					<span>Profile</span>
					<div id="profile-popup" class="profile-popup">
						<ul>
							<li onclick="redirect('history')">
								History <img src="/static/main/history.svg" alt="history" />
							</li>
							<li onclick="redirect('user-profile')">
								Likes <img src="/static/main/likes.svg" alt="likes" />
							</li>
							<li onclick="redirect('logout')">
								Logout <img src="/static/main/logout.svg" alt="logout" />
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="/static/main/app.js"></script>
		<script src="/static/general.js"></script>
	</body>
</html>
